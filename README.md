(Структурированное описание приложено в pdf файле)

Сервисы по доставке еды — это востребованная услуга, которая пока только начинает своё развитие. Многие из нас ежедневно пользуются данной услугой, но кто-нибудь из нас хоть когда-нибудь задумывался - как же это всё работает на практике? 
Со стороны покупателя всё вроде бы просто: открыл приложение/зашёл на сайт, выбрал понравившуюся продукцию, добавил в корзину, заказал, после этого дождался курьера с заказом, оплатил. Ну вот и всё, заказ уже в руках. Но это очень поверхностно. А если переходить к более детальному описанию, получим большой «дерево-граф» с вариативностью действий. Для структурирования всей этой информации как раз-таки и существуют uml-диаграммы, позволяющие нам видеть полноту событий.

Чаще всего в доставке еды участвуют непосредственно сам клиент; курьер, который доставляет заказ; повара, которые готовят тот или иной заказ (ресторан); техподдержка, которая отслеживает маршрут курьера, готовность блюд, решает все возникающие проблемы. Теперь обсудим непосредственно саму работу: 

• клиент делает заказ, который отображается в общем программном обеспечении (оно установлено у сотрудников ресторанов партнеров, службы поддержки сервиса и в виде приложения у клиента в телефоне). Клиент может неограниченное количество раз смотреть каталог, добавлять/убирать блюда из корзины, смотреть отзывы о ресторане. А если передумает, то и вовсе может просто очистить корзину; 

• после бронирования денег на счете банковской карты заказ принимается в работу. Повара начинают готовить блюда, а после упаковывать их в соответствующие контейнеры/упаковку для грамотной доставки; 

• в это время курьер, осуществляющий доставку блюд, направляется к ресторану, чтобы забрать готовый заказ. Данные о новом заказе ему приходят моментально в приложении. 

• после того, как заказ забрали, доставка осуществляется в течение 30 – 35 минут с момента оставления заказа (отслеживать весь маршрут можно в приложении). В это время задействован соответственно сам курьер, и приложение, которое отслеживает успешность доставки. 

• после доставки до клиента заказ закрывается в базе, этому курьеру могут прийти новые заказы, а у клиента списываются деньги с такого счёта/карты, которую он указал при оплате, после этого клиент получает возможность оценить качество блюд и самой доставки. 

• Диаграмма вариантов использования 

Всего 5 акторов: непосредственно сам пользователь, доставщик (буду так называть для разнообразия курьера), кухня (ресторан, кафе, магазин – всё в совокупности), повар, и некое приложение (администратор, колл-центр, платежная система – всё вместе). 

Для пользователя возможно делать свои заказы в приложении, если его устраивает цена, время доставки, то он производит оплату, после этого уже заказ может «отправляться дальше по цепочке». Финальный этап – получение заказа клиентом (пользователем). 

Для кухни возможно только принимать заказы от пользователей, отправляться готовить их, а по мере готовности отправлять их курьерам для доставки блюд. 

Для курьера возможно только брать заказы от кухни и доставлять их. 

Для повара возможно составлять собственно сами блюда «по частичкам». Приложение обрабатывает заказ пользователя, если оплата клиента прошла по нему успешно, то оно же и направляет заказ на изготовление 

• Диаграмма деятельности: 

До создания заказа на самом деле проходит не мало операций. Клиент выбирает блюдо для добавления его в заказ, система проверяет – есть ли это блюдо в ассортименте, если нет, то выбор этого блюда невозможен, нам система будет предлагать выбрать на место этого что-то другое, пока всё выбранное не будет в наличии. Если выбрано всё окончательно, то отправляем запрос на сборку заказа, и одновременно с этим переходим к оплате заказа, тут два варианта: наличными при получении заказа оплата, либо банковской картой. Если вариант второй, то: если оплата прошла, то всё успешно, клиенту остается лишь ждать курьера со своим заказом. Если по какой-то причине заказ не прошел (недостаточно средств, карта заморожена, неверные данные введены и т.д.), то пользователю предлагается еще раз выбрать способ оплаты до тех пор, пока заказ не будет корректно оплачен. С наличными всё проще, клиенту нужно просто ждать с нужной суммой курьера с доставкой. 

• Диаграмма последовательности: 

Диаграмма последовательности показывает, как объекты в системе взаимодействуют друг с другом для выполнения функции «доставки еды». 

• Диаграмма классов: 

У нас всего в наличие пять классов - это сам клиент; ресторан; курьер, созданный клиентом заказ; блюдо, включенное в заказ. 

Теперь перейдем к рассмотрению больше теоретических вопросов: 

У одного клиента может быть, как один заказ, так их может быть бесконечно много, а вот у заказа может быть только один клиент. 

У клиента может быть от одного заказа до того количества, которое может сделать в день один курьер из-за ограниченного времени. 

У одного ресторана может быть, как один заказ, так их может быть бесконечно много, и у заказа может быть только один ресторан, так и несколько. 

В каждом заказе клиента может быть несколько блюд, и еще главное, что каждое блюдо может находиться сразу в n заказах.

 • Диаграмма состояний: 
 
Начальный этап - клиент создал заказ, то есть ввёл корректно свои данные и данные для оплаты. 

Идёт проверка на кухню (в заведение) с целью узнать есть ли все нужные ингредиенты и товары для заказа, если нет, то придётся их где-либо находить. После того, как вопрос с продуктами решён, они доставляются на кухню, затем он готов к приготовлению. Бывают и в мире доставки еды свои баги, по примеру неверных ингредиентов, неправильного приготовления, некорректного времени приготовления – в этом случае блюдо переделывается с самого начала, поэтому мы возвращаемся на «состав заказа». Если же все хорошо, то наш заказ теперь готов к сборке, а после является и полностью готовым. Он передается доставщику еды (курьеру), а после доставляется до клиента. Если все прошло без сбоев, то заказ закрывается. Тут тоже может пойти не так, в одном случае нам останется только ждать, а во втором мы отправляемся на самый первоначальный этап оформления заказа.

